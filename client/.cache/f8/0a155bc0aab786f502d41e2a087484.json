{"id":"qxUj","dependencies":[{"name":"/home/admi/work/space-rep-public/client/.babelrc","includedInParent":true,"mtime":1577166318855},{"name":"/home/admi/work/space-rep-public/client/package.json","includedInParent":true,"mtime":1577680228822},{"name":"react","loc":{"line":1,"column":43},"parent":"/home/admi/work/space-rep-public/client/src/components/Login/Login.js","resolved":"/home/admi/work/space-rep-public/client/node_modules/react/index.js"},{"name":"./login.css","loc":{"line":2,"column":7},"parent":"/home/admi/work/space-rep-public/client/src/components/Login/Login.js","resolved":"/home/admi/work/space-rep-public/client/src/components/Login/login.css"},{"name":"react-router-dom","loc":{"line":3,"column":25},"parent":"/home/admi/work/space-rep-public/client/src/components/Login/Login.js","resolved":"/home/admi/work/space-rep-public/client/node_modules/react-router-dom/esm/react-router-dom.js"},{"name":"../About/Navbar","loc":{"line":4,"column":19},"parent":"/home/admi/work/space-rep-public/client/src/components/Login/Login.js","resolved":"/home/admi/work/space-rep-public/client/src/components/About/Navbar.js"},{"name":"../../url/config","loc":{"line":5,"column":16},"parent":"/home/admi/work/space-rep-public/client/src/components/Login/Login.js","resolved":"/home/admi/work/space-rep-public/client/src/url/config.js"},{"name":"../../util","loc":{"line":6,"column":39},"parent":"/home/admi/work/space-rep-public/client/src/components/Login/Login.js","resolved":"/home/admi/work/space-rep-public/client/src/util/index.js"},{"name":"../../fetch","loc":{"line":7,"column":26},"parent":"/home/admi/work/space-rep-public/client/src/components/Login/Login.js","resolved":"/home/admi/work/space-rep-public/client/src/fetch/index.js"},{"name":"../NetworkError","loc":{"line":8,"column":23},"parent":"/home/admi/work/space-rep-public/client/src/components/Login/Login.js","resolved":"/home/admi/work/space-rep-public/client/src/components/NetworkError.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=c(require(\"react\"));require(\"./login.css\");var t=require(\"react-router-dom\"),r=i(require(\"../About/Navbar\")),n=i(require(\"../../url/config\")),a=require(\"../../util\"),u=require(\"../../fetch\"),l=i(require(\"../NetworkError\"));function i(e){return e&&e.__esModule?e:{default:e}}function o(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function c(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var u=n?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(r,a,u):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){d(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){return g(e)||b(e,t)||m()}function m(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}function b(e,t){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)){var r=[],n=!0,a=!1,u=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(o){a=!0,u=o}finally{try{n||null==i.return||i.return()}finally{if(a)throw u}}return r}}function g(e){if(Array.isArray(e))return e}function v(){var i,o=(0,a.getSession)();o&&(i=o.active);var c=p((0,e.useState)({}),2),s=c[0],m=c[1],b=p((0,e.useState)({}),2),g=b[0],v=b[1],y=p((0,e.useState)(!1),2),w=y[0],O=y[1],E=p((0,e.useState)(!1),2),h=E[0],j=E[1],P=p((0,e.useState)({}),2),S=P[0],_=P[1],N=p((0,e.useState)(!1),2),q=N[0],x=N[1];(0,e.useEffect)(function(){0===Object.keys(g).length&&w&&k(\"\".concat(n.default,\"/login\"),s)},[g]);var k=function(e,t){var r,n;return regeneratorRuntime.async(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,regeneratorRuntime.awrap((0,u.fetchPost)(e,t));case 2:if(!(r=l.sent).err){l.next=7;break}x(!0),l.next=11;break;case 7:return l.next=9,regeneratorRuntime.awrap(r.json());case 9:(n=l.sent).sid?((0,a.setSession)(n),j(!0)):_(n);case 11:case\"end\":return l.stop()}})},D=function(e){e.persist(),m(function(t){return f({},t,d({},e.target.name,e.target.value))})},M=function(e){var t={};return/\\S+@\\S+\\.\\S+/.test(e.user_email)||(t.user_email=\"Email address is invalid\"),e.user_email||(t.user_email=\"User Email is required\"),e.pswd||(t.pswd=\"Password is required\"),t};return e.default.createElement(e.default.Fragment,null,q&&e.default.createElement(l.default,null),i&&e.default.createElement(t.Redirect,{to:\"/decks\"}),!q&&e.default.createElement(e.default.Fragment,null,e.default.createElement(r.default,{signup:\"signUp\"}),e.default.createElement(\"section\",{className:\"login-box\"},e.default.createElement(\"h1\",{className:\"heading\"},\"Login\"),e.default.createElement(\"p\",{className:\"sub-heading\"},\"Log in to an existing account.\"),S&&e.default.createElement(\"p\",{className:\"acc-not-exist-msg\"},\" \",S.res),e.default.createElement(\"form\",{className:\"login-form\",onSubmit:function(e){return function(e){e.preventDefault(),O(!0),v(M(s))}(e)}},e.default.createElement(\"label\",{htmlFor:\"email\",className:\"label\"},\"Email\"),e.default.createElement(\"input\",{type:\"email\",placeholder:\"Enter your Email\",id:\"email\",name:\"user_email\",className:\"input\".concat(g.user_email&&\"invalid\"),onChange:function(e){return D(e)},value:s.user_email||\"\",required:!0}),g.user_email&&e.default.createElement(\"p\",{className:\"invalid-para\"},g.user_email),e.default.createElement(\"label\",{htmlFor:\"pswd\",className:\"label\"},\"Password\"),e.default.createElement(\"input\",{type:\"password\",id:\"pswd\",name:\"pswd\",className:\"input\".concat(g.pswd&&\"invalid\"),placeholder:\"Enter the password\",onChange:function(e){return D(e)},value:s.pswd||\"\",required:!0}),g.pswd&&e.default.createElement(\"p\",{className:\"invalid-para\"},g.pswd),e.default.createElement(\"button\",{className:\"login-btn\"},\"Login\"),h&&e.default.createElement(t.Redirect,{to:\"/decks\"})))))}var y=v;exports.default=y;"},"sourceMaps":null,"error":null,"hash":"597149505ffd20c4041c96aa983da932","cacheData":{"env":{}}}