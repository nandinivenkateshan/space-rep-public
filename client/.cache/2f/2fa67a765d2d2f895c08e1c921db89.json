{"id":"IxU9","dependencies":[{"name":"/home/admi/work/space-rep-public/client/.babelrc","includedInParent":true,"mtime":1577166318855},{"name":"/home/admi/work/space-rep-public/client/package.json","includedInParent":true,"mtime":1577680228822},{"name":"react","loc":{"line":1,"column":43},"parent":"/home/admi/work/space-rep-public/client/src/components/Add/AddCard.js","resolved":"/home/admi/work/space-rep-public/client/node_modules/react/index.js"},{"name":"./addcard.css","loc":{"line":2,"column":7},"parent":"/home/admi/work/space-rep-public/client/src/components/Add/AddCard.js","resolved":"/home/admi/work/space-rep-public/client/src/components/Add/addcard.css"},{"name":"showdown","loc":{"line":3,"column":21},"parent":"/home/admi/work/space-rep-public/client/src/components/Add/AddCard.js","resolved":"/home/admi/work/space-rep-public/client/node_modules/showdown/dist/showdown.js"},{"name":"../../url/config","loc":{"line":4,"column":16},"parent":"/home/admi/work/space-rep-public/client/src/components/Add/AddCard.js","resolved":"/home/admi/work/space-rep-public/client/src/url/config.js"},{"name":"react-router-dom","loc":{"line":5,"column":25},"parent":"/home/admi/work/space-rep-public/client/src/components/Add/AddCard.js","resolved":"/home/admi/work/space-rep-public/client/node_modules/react-router-dom/esm/react-router-dom.js"},{"name":"../../util","loc":{"line":6,"column":27},"parent":"/home/admi/work/space-rep-public/client/src/components/Add/AddCard.js","resolved":"/home/admi/work/space-rep-public/client/src/util/index.js"},{"name":"../../fetch","loc":{"line":7,"column":26},"parent":"/home/admi/work/space-rep-public/client/src/components/Add/AddCard.js","resolved":"/home/admi/work/space-rep-public/client/src/fetch/index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=i(require(\"react\"));require(\"./addcard.css\");var t=o(require(\"showdown\")),r=o(require(\"../../url/config\")),n=require(\"react-router-dom\"),a=require(\"../../util\"),u=require(\"../../fetch\");function o(e){return e&&e.__esModule?e:{default:e}}function c(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function i(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var u=n?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(r,a,u):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}function l(e){return d(e)||f(e)||s()}function s(){throw new TypeError(\"Invalid attempt to spread non-iterable instance\")}function f(e){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e))return Array.from(e)}function d(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){v(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){return w(e)||g(e,t)||y()}function y(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}function g(e,t){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)){var r=[],n=!0,a=!1,u=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(i){a=!0,u=i}finally{try{n||null==c.return||c.return()}finally{if(a)throw u}}return r}}function w(e){if(Array.isArray(e))return e}function h(o){var c,i,s,f,d,p=o.heading,v=o.id,y=o.editCard,g=o.onNetErr,w=new t.default.Converter,h=(0,a.getSession)().sid,O=function(e){return w.makeHtml(e)},j=function(e){return w.makeMarkdown(e)};v?(i=y[0].deck,c=j(y[0].question),s=j(y[0].answer),d=e.default.createElement(\"button\",{className:\"save-btn\"},\"Update\")):f=e.default.createElement(\"button\",{className:\"save-btn\"},\"Save\");var E=b((0,e.useState)(!1),2),S=E[0],k=E[1],P=b((0,e.useState)(!1),2),q=P[0],x=P[1],A=b((0,e.useState)([]),2),N=A[0],C=A[1],D=b((0,e.useState)(c||\"\"),2),M=D[0],R=D[1],_=b((0,e.useState)(s||\"\"),2),T=_[0],F=_[1],I=b((0,e.useState)(i||\"\"),2),L=I[0],W=I[1],H=b((0,e.useState)([]),2),Q=H[0],U=H[1];setTimeout(function(){return k(!1)},4e3);var z=function(e,t,r){var n;return regeneratorRuntime.async(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,regeneratorRuntime.awrap((0,u.fetchPost)(e,t));case 2:n=a.sent,r&&x(n.ok),n.err&&g(!0);case 5:case\"end\":return a.stop()}})};return(0,e.useEffect)(function(){var e;regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(window.fetch(\"\".concat(r.default,\"/getDecknames/?sid=\").concat(h)));case 2:return e=t.sent,t.next=5,regeneratorRuntime.awrap(e.json());case 5:e=t.sent,U(e);case 7:case\"end\":return t.stop()}})},[S]),e.default.createElement(e.default.Fragment,null,e.default.createElement(\"form\",{onSubmit:function(e){return function(e){if(v){var t={id:Number(v),deck:L.toLowerCase()||i,question:O(M)||c,answer:O(T)||s};z(\"\".concat(r.default,\"/updateCard\"),m({},t,{sid:h}),\"update\")}else{var n={deck:L.toLowerCase(),question:O(M),answer:O(T),status:\"new\",again:60,easy:900,good:86400};z(\"\".concat(r.default,\"/addCard\"),m({},n,{sid:h})),C([n].concat(l(N))),F(\"\"),R(\"\"),W(\"\")}k(!0),e.preventDefault()}(e)}},e.default.createElement(\"section\",{className:\"field\"},e.default.createElement(\"h1\",{className:\"heading\"},p),e.default.createElement(\"input\",{className:\"input-box\",type:\"text\",placeholder:\"Enter the deck\",onChange:function(e){return function(e){var t=e.target.value;W(t)}(e)},value:L,list:\"deck-list\",required:!0,autoFocus:!0}),e.default.createElement(\"datalist\",{id:\"deck-list\"},Q.map(function(t){return e.default.createElement(\"option\",{key:t.id},t.deck)})),e.default.createElement(\"textarea\",{className:\"qa-box\",placeholder:\"Enter the Question\",value:M,onChange:function(e){return t=e.target.value,void R(t);var t},required:!0}),e.default.createElement(\"textarea\",{className:\"qa-box\",placeholder:\"Enter the Answer\",value:T,onChange:function(e){return t=e.target.value,void F(t);var t},required:!0}),f||d,S&&e.default.createElement(\"p\",{className:\"isSubmit-para\"},\"Added Successfully\"),q&&e.default.createElement(n.Redirect,{to:\"/decks\"}))))}var O=h;exports.default=O;"},"sourceMaps":null,"error":null,"hash":"a10d8fc1002ecf5c2eb34acbab042a54","cacheData":{"env":{}}}