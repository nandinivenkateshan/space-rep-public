{"id":"IxU9","dependencies":[{"name":"/home/admi/work/space-rep-public/client/.babelrc","includedInParent":true,"mtime":1577790287923},{"name":"/home/admi/work/space-rep-public/package.json","includedInParent":true,"mtime":1577780738231},{"name":"@babel/runtime/helpers/toConsumableArray","parent":"/home/admi/work/space-rep-public/client/src/components/Add/AddCard.js","resolved":"/home/admi/work/space-rep-public/node_modules/@babel/runtime/helpers/toConsumableArray.js"},{"name":"@babel/runtime/helpers/defineProperty","parent":"/home/admi/work/space-rep-public/client/src/components/Add/AddCard.js","resolved":"/home/admi/work/space-rep-public/node_modules/@babel/runtime/helpers/defineProperty.js"},{"name":"@babel/runtime/regenerator","parent":"/home/admi/work/space-rep-public/client/src/components/Add/AddCard.js","resolved":"/home/admi/work/space-rep-public/node_modules/@babel/runtime/regenerator/index.js"},{"name":"@babel/runtime/helpers/asyncToGenerator","parent":"/home/admi/work/space-rep-public/client/src/components/Add/AddCard.js","resolved":"/home/admi/work/space-rep-public/node_modules/@babel/runtime/helpers/asyncToGenerator.js"},{"name":"@babel/runtime/helpers/slicedToArray","parent":"/home/admi/work/space-rep-public/client/src/components/Add/AddCard.js","resolved":"/home/admi/work/space-rep-public/node_modules/@babel/runtime/helpers/slicedToArray.js"},{"name":"@babel/runtime/helpers/interopRequireDefault","parent":"/home/admi/work/space-rep-public/client/src/components/Add/AddCard.js","resolved":"/home/admi/work/space-rep-public/node_modules/@babel/runtime/helpers/interopRequireDefault.js"},{"name":"react","parent":"/home/admi/work/space-rep-public/client/src/components/Add/AddCard.js","resolved":"/home/admi/work/space-rep-public/node_modules/react/index.js"},{"name":"./addcard.css","parent":"/home/admi/work/space-rep-public/client/src/components/Add/AddCard.js","resolved":"/home/admi/work/space-rep-public/client/src/components/Add/addcard.css"},{"name":"showdown","parent":"/home/admi/work/space-rep-public/client/src/components/Add/AddCard.js","resolved":"/home/admi/work/space-rep-public/node_modules/showdown/dist/showdown.js"},{"name":"../../url/config","parent":"/home/admi/work/space-rep-public/client/src/components/Add/AddCard.js","resolved":"/home/admi/work/space-rep-public/client/src/url/config.js"},{"name":"react-router-dom","parent":"/home/admi/work/space-rep-public/client/src/components/Add/AddCard.js","resolved":"/home/admi/work/space-rep-public/node_modules/react-router-dom/esm/react-router-dom.js"},{"name":"../../util","parent":"/home/admi/work/space-rep-public/client/src/components/Add/AddCard.js","resolved":"/home/admi/work/space-rep-public/client/src/util/index.js"},{"name":"../../fetch","parent":"/home/admi/work/space-rep-public/client/src/components/Add/AddCard.js","resolved":"/home/admi/work/space-rep-public/client/src/fetch/index.js"}],"generated":{"js":"\"use strict\";var e=d(require(\"@babel/runtime/helpers/interopRequireDefault\"));Object.defineProperty(exports,\"__esModule\",{value:!0});var t=require(\"@babel/runtime/helpers/toConsumableArray\"),r=(0,e.default)(t),a=require(\"@babel/runtime/helpers/defineProperty\"),n=(0,e.default)(a),u=require(\"@babel/runtime/regenerator\"),l=(0,e.default)(u),c=require(\"@babel/runtime/helpers/asyncToGenerator\"),o=(0,e.default)(c),s=require(\"@babel/runtime/helpers/slicedToArray\"),i=(0,e.default)(s);function d(e){return e&&e.__esModule?e:{default:e}}var f=require(\"react\"),p=(0,e.default)(f);require(\"./addcard.css\");var m=require(\"showdown\"),b=(0,e.default)(m),v=require(\"../../url/config\"),h=(0,e.default)(v),w=require(\"react-router-dom\"),g=require(\"../../util\"),q=require(\"../../fetch\");function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){(0,n.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function O(e){var t,a,n,u,c,s=e.heading,d=e.id,m=e.editCard,v=e.onNetErr,y=new b.default.Converter,O=(0,g.getSession)().sid,k=function(e){return y.makeHtml(e)},S=function(e){return y.makeMarkdown(e)};d?(a=m[0].deck,t=S(m[0].question),n=S(m[0].answer),c=p.default.createElement(\"button\",{className:\"save-btn\"},\"Update\")):u=p.default.createElement(\"button\",{className:\"save-btn\"},\"Save\");var j=(0,f.useState)(!1),x=(0,i.default)(j,2),P=x[0],C=x[1],N=(0,f.useState)(!1),D=(0,i.default)(N,2),A=D[0],_=D[1],M=(0,f.useState)([]),T=(0,i.default)(M,2),F=T[0],L=T[1],R=(0,f.useState)(t||\"\"),G=(0,i.default)(R,2),H=G[0],Q=G[1],U=(0,f.useState)(n||\"\"),z=(0,i.default)(U,2),B=z[0],I=z[1],J=(0,f.useState)(a||\"\"),K=(0,i.default)(J,2),V=K[0],W=K[1],X=(0,f.useState)([]),Y=(0,i.default)(X,2),Z=Y[0],$=Y[1];setTimeout(function(){return C(!1)},4e3);var ee=function(){var e=(0,o.default)(l.default.mark(function e(t,r,a){var n;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,q.fetchPost)(t,r);case 2:n=e.sent,a&&_(n.ok),n.err&&v(!0);case 5:case\"end\":return e.stop()}},e)}));return function(t,r,a){return e.apply(this,arguments)}}(),te=function(){var e=(0,o.default)(l.default.mark(function e(){var t;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.fetch(\"\".concat(h.default,\"/getDecknames/?sid=\").concat(O));case 2:return t=e.sent,e.next=5,t.json();case 5:t=e.sent,$(t);case 7:case\"end\":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return(0,f.useEffect)(function(){te()},[P]),p.default.createElement(p.default.Fragment,null,p.default.createElement(\"form\",{onSubmit:function(e){return function(e){if(d){var u={id:Number(d),deck:V.toLowerCase()||a,question:k(H)||t,answer:k(B)||n};ee(\"\".concat(h.default,\"/updateCard\"),E({},u,{sid:O}),\"update\")}else{var l={deck:V.toLowerCase(),question:k(H),answer:k(B),status:\"new\",again:60,easy:900,good:86400};ee(\"\".concat(h.default,\"/addCard\"),E({},l,{sid:O})),L([l].concat((0,r.default)(F))),I(\"\"),Q(\"\"),W(\"\")}C(!0),e.preventDefault()}(e)}},p.default.createElement(\"section\",{className:\"field\"},p.default.createElement(\"h1\",{className:\"heading\"},s),p.default.createElement(\"input\",{className:\"input-box\",type:\"text\",placeholder:\"Enter the deck\",onChange:function(e){return function(e){var t=e.target.value;W(t)}(e)},value:V,list:\"deck-list\",required:!0,autoFocus:!0}),p.default.createElement(\"datalist\",{id:\"deck-list\"},Z.map(function(e){return p.default.createElement(\"option\",{key:e.id},e.deck)})),p.default.createElement(\"textarea\",{className:\"qa-box\",placeholder:\"Enter the Question\",value:H,onChange:function(e){return t=e.target.value,void Q(t);var t},required:!0}),p.default.createElement(\"textarea\",{className:\"qa-box\",placeholder:\"Enter the Answer\",value:B,onChange:function(e){return t=e.target.value,void I(t);var t},required:!0}),u||c,P&&p.default.createElement(\"p\",{className:\"isSubmit-para\"},\"Added Successfully\"),A&&p.default.createElement(w.Redirect,{to:\"/decks\"}))))}exports.default=O;"},"sourceMaps":null,"error":null,"hash":"9689627096ef9d07852ed3fb65534bd3","cacheData":{"env":{}}}