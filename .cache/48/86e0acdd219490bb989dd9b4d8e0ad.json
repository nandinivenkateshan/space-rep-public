{"id":"tSzx","dependencies":[{"name":"/home/admi/work/space-rep-public/client/.babelrc","includedInParent":true,"mtime":1577790287923},{"name":"/home/admi/work/space-rep-public/package.json","includedInParent":true,"mtime":1577780738231},{"name":"@babel/runtime/regenerator","parent":"/home/admi/work/space-rep-public/client/src/components/Decks/Decks.js","resolved":"/home/admi/work/space-rep-public/node_modules/@babel/runtime/regenerator/index.js"},{"name":"@babel/runtime/helpers/asyncToGenerator","parent":"/home/admi/work/space-rep-public/client/src/components/Decks/Decks.js","resolved":"/home/admi/work/space-rep-public/node_modules/@babel/runtime/helpers/asyncToGenerator.js"},{"name":"@babel/runtime/helpers/slicedToArray","parent":"/home/admi/work/space-rep-public/client/src/components/Decks/Decks.js","resolved":"/home/admi/work/space-rep-public/node_modules/@babel/runtime/helpers/slicedToArray.js"},{"name":"@babel/runtime/helpers/interopRequireDefault","parent":"/home/admi/work/space-rep-public/client/src/components/Decks/Decks.js","resolved":"/home/admi/work/space-rep-public/node_modules/@babel/runtime/helpers/interopRequireDefault.js"},{"name":"react","parent":"/home/admi/work/space-rep-public/client/src/components/Decks/Decks.js","resolved":"/home/admi/work/space-rep-public/node_modules/react/index.js"},{"name":"react-router-dom","parent":"/home/admi/work/space-rep-public/client/src/components/Decks/Decks.js","resolved":"/home/admi/work/space-rep-public/node_modules/react-router-dom/esm/react-router-dom.js"},{"name":"../Navbar/Navbar","parent":"/home/admi/work/space-rep-public/client/src/components/Decks/Decks.js","resolved":"/home/admi/work/space-rep-public/client/src/components/Navbar/Navbar.js"},{"name":"./style.css","parent":"/home/admi/work/space-rep-public/client/src/components/Decks/Decks.js","resolved":"/home/admi/work/space-rep-public/client/src/components/Decks/style.css"},{"name":"../../url/config","parent":"/home/admi/work/space-rep-public/client/src/components/Decks/Decks.js","resolved":"/home/admi/work/space-rep-public/client/src/url/config.js"},{"name":"../../util","parent":"/home/admi/work/space-rep-public/client/src/components/Decks/Decks.js","resolved":"/home/admi/work/space-rep-public/client/src/util/index.js"},{"name":"../../fetch","parent":"/home/admi/work/space-rep-public/client/src/components/Decks/Decks.js","resolved":"/home/admi/work/space-rep-public/client/src/fetch/index.js"},{"name":"../NetworkError","parent":"/home/admi/work/space-rep-public/client/src/components/Decks/Decks.js","resolved":"/home/admi/work/space-rep-public/client/src/components/NetworkError.js"}],"generated":{"js":"\"use strict\";var e=c(require(\"@babel/runtime/helpers/interopRequireDefault\"));Object.defineProperty(exports,\"__esModule\",{value:!0});var t=require(\"@babel/runtime/regenerator\"),a=(0,e.default)(t),r=require(\"@babel/runtime/helpers/asyncToGenerator\"),n=(0,e.default)(r),u=require(\"@babel/runtime/helpers/slicedToArray\"),l=(0,e.default)(u);function c(e){return e&&e.__esModule?e:{default:e}}var d=require(\"react\"),i=(0,e.default)(d),o=require(\"react-router-dom\"),s=require(\"../Navbar/Navbar\"),f=(0,e.default)(s);require(\"./style.css\");var m=require(\"../../url/config\"),k=(0,e.default)(m),p=require(\"../../util\"),v=require(\"../../fetch\"),b=require(\"../NetworkError\"),E=(0,e.default)(b);function N(){var e,t,r=(0,p.getSession)();r&&(e=r.sid,t=r.active);var u=(0,d.useState)([]),c=(0,l.default)(u,2),s=c[0],m=c[1],b=(0,d.useState)(!1),N=(0,l.default)(b,2),w=N[0],h=N[1],q=(0,d.useState)(\"\"),x=(0,l.default)(q,2),C=x[0],D=x[1],y=(0,d.useState)(!1),g=(0,l.default)(y,2),S=g[0],T=g[1],R=(0,d.useState)(!1),_=(0,l.default)(R,2),A=_[0],j=_[1],G=function(){var t=(0,n.default)(a.default.mark(function t(){var r,n;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,v.fetchGet)(\"\".concat(k.default,\"/getDeckNames/?sid=\").concat(e));case 2:if(!(r=t.sent).err){t.next=7;break}j(!0),t.next=12;break;case 7:return t.next=9,r.json();case 9:n=t.sent,m(n),T(!1);case 12:case\"end\":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();(0,d.useEffect)(function(){G()},[S]);var I=function(){var e=(0,n.default)(a.default.mark(function e(t,r,n){var u;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.fetchPost)(t,r);case 2:u=e.sent,n&&u.ok&&h(!0),!n&&u.ok&&T(!0),u.err&&j(!0);case 6:case\"end\":return e.stop()}},e)}));return function(t,a,r){return e.apply(this,arguments)}}();return i.default.createElement(i.default.Fragment,null,A&&i.default.createElement(E.default,null),!t&&i.default.createElement(o.Redirect,{to:\"/\"}),!A&&i.default.createElement(\"main\",null,i.default.createElement(f.default,null),i.default.createElement(\"section\",{className:\"decks\"},i.default.createElement(\"h1\",{className:\"decks-heading\"},\"Decks\"),i.default.createElement(\"ul\",null,s.map(function(t){return i.default.createElement(\"li\",{key:t.id,className:\"list\"},i.default.createElement(\"label\",{onClick:function(t){return function(t){var a=t.target.innerText.toLowerCase();D(a);var r=parseInt(Date.now()/1e3);I(\"\".concat(k.default,\"/updateDeckClickTime\"),{deck:a,deckClickTime:r,sid:e},\"deck\")}(t)},className:\"deck\"},t.deck.toUpperCase()),i.default.createElement(\"div\",{className:\"dropdown-box\"},i.default.createElement(\"label\",{className:\"dropdown-btn\"},\"ACTION\"),i.default.createElement(\"div\",{className:\"dropdown-content\"},i.default.createElement(\"label\",{onClick:function(){return a=t.deck,void((r=window.prompt(\"Enter New Name\"))&&I(\"\".concat(k.default,\"/modifyDeckName\"),{reName:r,deckName:a,sid:e}));var a,r}},\"Rename\"),i.default.createElement(\"label\",{onClick:function(){return a=t.deck,void(window.confirm(\"Are You Sure to Delete? This Can't be undone.\")&&I(\"\".concat(k.default,\"/deleteDeck\"),{deckName:a,sid:e}));var a}},\"Delete\"))),w&&i.default.createElement(o.Redirect,{to:\"/decks/\".concat(C)}))})))))}exports.default=N;"},"sourceMaps":null,"error":null,"hash":"3fd8192a024ecb0060ec28b13c3df877","cacheData":{"env":{}}}