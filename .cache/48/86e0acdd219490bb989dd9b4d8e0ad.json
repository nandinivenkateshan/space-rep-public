{"id":"tSzx","dependencies":[{"name":"/home/admi/work/space-rep-public/client/.babelrc","includedInParent":true,"mtime":1577166318855},{"name":"/home/admi/work/space-rep-public/package.json","includedInParent":true,"mtime":1577711822874},{"name":"react","loc":{"line":1,"column":43},"parent":"/home/admi/work/space-rep-public/client/src/components/Decks/Decks.js","resolved":"/home/admi/work/space-rep-public/node_modules/react/index.js"},{"name":"react-router-dom","loc":{"line":2,"column":25},"parent":"/home/admi/work/space-rep-public/client/src/components/Decks/Decks.js","resolved":"/home/admi/work/space-rep-public/node_modules/react-router-dom/esm/react-router-dom.js"},{"name":"../Navbar/Navbar","loc":{"line":3,"column":19},"parent":"/home/admi/work/space-rep-public/client/src/components/Decks/Decks.js","resolved":"/home/admi/work/space-rep-public/client/src/components/Navbar/Navbar.js"},{"name":"./style.css","loc":{"line":4,"column":7},"parent":"/home/admi/work/space-rep-public/client/src/components/Decks/Decks.js","resolved":"/home/admi/work/space-rep-public/client/src/components/Decks/style.css"},{"name":"../../url/config","loc":{"line":5,"column":16},"parent":"/home/admi/work/space-rep-public/client/src/components/Decks/Decks.js","resolved":"/home/admi/work/space-rep-public/client/src/url/config.js"},{"name":"../../util","loc":{"line":6,"column":27},"parent":"/home/admi/work/space-rep-public/client/src/components/Decks/Decks.js","resolved":"/home/admi/work/space-rep-public/client/src/util/index.js"},{"name":"../../fetch","loc":{"line":7,"column":36},"parent":"/home/admi/work/space-rep-public/client/src/components/Decks/Decks.js","resolved":"/home/admi/work/space-rep-public/client/src/fetch/index.js"},{"name":"../NetworkError","loc":{"line":8,"column":23},"parent":"/home/admi/work/space-rep-public/client/src/components/Decks/Decks.js","resolved":"/home/admi/work/space-rep-public/client/src/components/NetworkError.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=l(require(\"react\")),t=require(\"react-router-dom\"),r=o(require(\"../Navbar/Navbar\"));require(\"./style.css\");var n=o(require(\"../../url/config\")),a=require(\"../../util\"),u=require(\"../../fetch\"),c=o(require(\"../NetworkError\"));function o(e){return e&&e.__esModule?e:{default:e}}function i(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function l(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var u=n?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(r,a,u):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}function f(e,t,r,n,a,u,c){try{var o=e[u](c),i=o.value}catch(l){return void r(l)}o.done?t(i):Promise.resolve(i).then(n,a)}function s(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var u=e.apply(t,r);function c(e){f(u,n,a,c,o,\"next\",e)}function o(e){f(u,n,a,c,o,\"throw\",e)}c(void 0)})}}function d(e,t){return v(e)||p(e,t)||m()}function m(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}function p(e,t){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)){var r=[],n=!0,a=!1,u=void 0;try{for(var c,o=e[Symbol.iterator]();!(n=(c=o.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(i){a=!0,u=i}finally{try{n||null==o.return||o.return()}finally{if(a)throw u}}return r}}function v(e){if(Array.isArray(e))return e}function k(){var o,i,l=(0,a.getSession)();l&&(o=l.sid,i=l.active);var f=d((0,e.useState)([]),2),m=f[0],p=f[1],v=d((0,e.useState)(!1),2),k=v[0],y=v[1],b=d((0,e.useState)(\"\"),2),w=b[0],h=b[1],E=d((0,e.useState)(!1),2),N=E[0],g=E[1],x=d((0,e.useState)(!1),2),O=x[0],j=x[1],D=function(){var e=s(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.fetchGet)(\"\".concat(n.default,\"/getDeckNames/?sid=\").concat(o));case 2:if(!(t=e.sent).err){e.next=7;break}j(!0),e.next=12;break;case 7:return e.next=9,t.json();case 9:r=e.sent,p(r),g(!1);case 12:case\"end\":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();(0,e.useEffect)(function(){D()},[N]);var S=function(){var e=s(regeneratorRuntime.mark(function e(t,r,n){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.fetchPost)(t,r);case 2:a=e.sent,n&&a.ok&&y(!0),!n&&a.ok&&g(!0),a.err&&j(!0);case 6:case\"end\":return e.stop()}},e)}));return function(t,r,n){return e.apply(this,arguments)}}();return e.default.createElement(e.default.Fragment,null,O&&e.default.createElement(c.default,null),!i&&e.default.createElement(t.Redirect,{to:\"/\"}),!O&&e.default.createElement(\"main\",null,e.default.createElement(r.default,null),e.default.createElement(\"section\",{className:\"decks\"},e.default.createElement(\"h1\",{className:\"decks-heading\"},\"Decks\"),e.default.createElement(\"ul\",null,m.map(function(r){return e.default.createElement(\"li\",{key:r.id,className:\"list\"},e.default.createElement(\"label\",{onClick:function(e){return function(e){var t=e.target.innerText.toLowerCase();h(t);var r=parseInt(Date.now()/1e3);S(\"\".concat(n.default,\"/updateDeckClickTime\"),{deck:t,deckClickTime:r,sid:o},\"deck\")}(e)},className:\"deck\"},r.deck.toUpperCase()),e.default.createElement(\"div\",{className:\"dropdown-box\"},e.default.createElement(\"label\",{className:\"dropdown-btn\"},\"ACTION\"),e.default.createElement(\"div\",{className:\"dropdown-content\"},e.default.createElement(\"label\",{onClick:function(){return e=r.deck,void((t=window.prompt(\"Enter New Name\"))&&S(\"\".concat(n.default,\"/modifyDeckName\"),{reName:t,deckName:e,sid:o}));var e,t}},\"Rename\"),e.default.createElement(\"label\",{onClick:function(){return e=r.deck,void(window.confirm(\"Are You Sure to Delete? This Can't be undone.\")&&S(\"\".concat(n.default,\"/deleteDeck\"),{deckName:e,sid:o}));var e}},\"Delete\"))),k&&e.default.createElement(t.Redirect,{to:\"/decks/\".concat(w)}))})))))}var y=k;exports.default=y;"},"sourceMaps":null,"error":null,"hash":"f62e985eeb4afcd20eaec6baf675bc92","cacheData":{"env":{}}}