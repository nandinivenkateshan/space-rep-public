{"id":"qxUj","dependencies":[{"name":"/home/admi/work/space-rep-public/client/.babelrc","includedInParent":true,"mtime":1577166318855},{"name":"/home/admi/work/space-rep-public/package.json","includedInParent":true,"mtime":1577711822874},{"name":"react","loc":{"line":1,"column":43},"parent":"/home/admi/work/space-rep-public/client/src/components/Login/Login.js","resolved":"/home/admi/work/space-rep-public/node_modules/react/index.js"},{"name":"./login.css","loc":{"line":2,"column":7},"parent":"/home/admi/work/space-rep-public/client/src/components/Login/Login.js","resolved":"/home/admi/work/space-rep-public/client/src/components/Login/login.css"},{"name":"react-router-dom","loc":{"line":3,"column":25},"parent":"/home/admi/work/space-rep-public/client/src/components/Login/Login.js","resolved":"/home/admi/work/space-rep-public/node_modules/react-router-dom/esm/react-router-dom.js"},{"name":"../About/Navbar","loc":{"line":4,"column":19},"parent":"/home/admi/work/space-rep-public/client/src/components/Login/Login.js","resolved":"/home/admi/work/space-rep-public/client/src/components/About/Navbar.js"},{"name":"../../url/config","loc":{"line":5,"column":16},"parent":"/home/admi/work/space-rep-public/client/src/components/Login/Login.js","resolved":"/home/admi/work/space-rep-public/client/src/url/config.js"},{"name":"../../util","loc":{"line":6,"column":39},"parent":"/home/admi/work/space-rep-public/client/src/components/Login/Login.js","resolved":"/home/admi/work/space-rep-public/client/src/util/index.js"},{"name":"../../fetch","loc":{"line":7,"column":26},"parent":"/home/admi/work/space-rep-public/client/src/components/Login/Login.js","resolved":"/home/admi/work/space-rep-public/client/src/fetch/index.js"},{"name":"../NetworkError","loc":{"line":8,"column":23},"parent":"/home/admi/work/space-rep-public/client/src/components/Login/Login.js","resolved":"/home/admi/work/space-rep-public/client/src/components/NetworkError.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=c(require(\"react\"));require(\"./login.css\");var t=require(\"react-router-dom\"),r=i(require(\"../About/Navbar\")),n=i(require(\"../../url/config\")),a=require(\"../../util\"),u=require(\"../../fetch\"),o=i(require(\"../NetworkError\"));function i(e){return e&&e.__esModule?e:{default:e}}function l(){if(\"function\"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function c(e){if(e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var u=n?Object.getOwnPropertyDescriptor(e,a):null;u&&(u.get||u.set)?Object.defineProperty(r,a,u):r[a]=e[a]}return r.default=e,t&&t.set(e,r),r}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){p(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e,t,r,n,a,u,o){try{var i=e[u](o),l=i.value}catch(c){return void r(c)}i.done?t(l):Promise.resolve(l).then(n,a)}function m(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var u=e.apply(t,r);function o(e){d(u,n,a,o,i,\"next\",e)}function i(e){d(u,n,a,o,i,\"throw\",e)}o(void 0)})}}function b(e,t){return y(e)||v(e,t)||g()}function g(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}function v(e,t){if(Symbol.iterator in Object(e)||\"[object Arguments]\"===Object.prototype.toString.call(e)){var r=[],n=!0,a=!1,u=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(l){a=!0,u=l}finally{try{n||null==i.return||i.return()}finally{if(a)throw u}}return r}}function y(e){if(Array.isArray(e))return e}function h(){var i,l=(0,a.getSession)();l&&(i=l.active);var c=b((0,e.useState)({}),2),s=c[0],d=c[1],g=b((0,e.useState)(!1),2),v=g[0],y=g[1],h=b((0,e.useState)(!1),2),O=h[0],w=h[1],E=b((0,e.useState)({}),2),j=E[0],P=E[1],S=b((0,e.useState)(!1),2),x=S[0],N=S[1];(0,e.useEffect)(function(){v&&q(\"\".concat(n.default,\"/login\"),s)},[v]);var q=function(){var e=m(regeneratorRuntime.mark(function e(t,r){var n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.fetchPost)(t,r);case 2:if(!(n=e.sent).err){e.next=7;break}N(!0),e.next=11;break;case 7:return e.next=9,n.json();case 9:(o=e.sent).sid?((0,a.setSession)(o),w(!0)):P(o);case 11:case\"end\":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),k=function(e){e.persist(),d(function(t){return f({},t,p({},e.target.name,e.target.value))})};return e.default.createElement(e.default.Fragment,null,x&&e.default.createElement(o.default,null),i&&e.default.createElement(t.Redirect,{to:\"/decks\"}),!x&&e.default.createElement(e.default.Fragment,null,e.default.createElement(r.default,{signup:\"signUp\"}),e.default.createElement(\"section\",{className:\"login-box\"},e.default.createElement(\"h1\",{className:\"heading\"},\"Login\"),e.default.createElement(\"p\",{className:\"sub-heading\"},\"Log in to an existing account.\"),j&&e.default.createElement(\"p\",{className:\"err-msg\"},\" \",j.res),e.default.createElement(\"form\",{className:\"login-form\",onSubmit:function(e){return function(e){e.preventDefault(),y(!0)}(e)}},e.default.createElement(\"label\",{htmlFor:\"email\",className:\"label\"},\"Email\"),e.default.createElement(\"input\",{type:\"email\",placeholder:\"Enter your Email\",id:\"email\",name:\"user_email\",className:\"input\",onChange:function(e){return k(e)},value:s.user_email||\"\",required:!0}),e.default.createElement(\"label\",{htmlFor:\"pswd\",className:\"label\"},\"Password\"),e.default.createElement(\"input\",{type:\"password\",id:\"pswd\",name:\"pswd\",className:\"input\",placeholder:\"Enter the password\",onChange:function(e){return k(e)},value:s.pswd||\"\",required:!0}),e.default.createElement(\"button\",{className:\"login-btn\"},\"Login\"),O&&e.default.createElement(t.Redirect,{to:\"/decks\"})))))}var O=h;exports.default=O;"},"sourceMaps":null,"error":null,"hash":"bf119d5b7bc5aab8692f06766079775f","cacheData":{"env":{}}}