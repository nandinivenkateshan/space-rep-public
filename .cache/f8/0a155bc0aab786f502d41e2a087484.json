{"id":"qxUj","dependencies":[{"name":"/home/admi/work/space-rep-public/client/.babelrc","includedInParent":true,"mtime":1577790287923},{"name":"/home/admi/work/space-rep-public/package.json","includedInParent":true,"mtime":1577780738231},{"name":"@babel/runtime/helpers/defineProperty","parent":"/home/admi/work/space-rep-public/client/src/components/Login/Login.js","resolved":"/home/admi/work/space-rep-public/node_modules/@babel/runtime/helpers/defineProperty.js"},{"name":"@babel/runtime/regenerator","parent":"/home/admi/work/space-rep-public/client/src/components/Login/Login.js","resolved":"/home/admi/work/space-rep-public/node_modules/@babel/runtime/regenerator/index.js"},{"name":"@babel/runtime/helpers/asyncToGenerator","parent":"/home/admi/work/space-rep-public/client/src/components/Login/Login.js","resolved":"/home/admi/work/space-rep-public/node_modules/@babel/runtime/helpers/asyncToGenerator.js"},{"name":"@babel/runtime/helpers/slicedToArray","parent":"/home/admi/work/space-rep-public/client/src/components/Login/Login.js","resolved":"/home/admi/work/space-rep-public/node_modules/@babel/runtime/helpers/slicedToArray.js"},{"name":"@babel/runtime/helpers/interopRequireDefault","parent":"/home/admi/work/space-rep-public/client/src/components/Login/Login.js","resolved":"/home/admi/work/space-rep-public/node_modules/@babel/runtime/helpers/interopRequireDefault.js"},{"name":"react","parent":"/home/admi/work/space-rep-public/client/src/components/Login/Login.js","resolved":"/home/admi/work/space-rep-public/node_modules/react/index.js"},{"name":"./login.css","parent":"/home/admi/work/space-rep-public/client/src/components/Login/Login.js","resolved":"/home/admi/work/space-rep-public/client/src/components/Login/login.css"},{"name":"react-router-dom","parent":"/home/admi/work/space-rep-public/client/src/components/Login/Login.js","resolved":"/home/admi/work/space-rep-public/node_modules/react-router-dom/esm/react-router-dom.js"},{"name":"../About/Navbar","parent":"/home/admi/work/space-rep-public/client/src/components/Login/Login.js","resolved":"/home/admi/work/space-rep-public/client/src/components/About/Navbar.js"},{"name":"../../url/config","parent":"/home/admi/work/space-rep-public/client/src/components/Login/Login.js","resolved":"/home/admi/work/space-rep-public/client/src/url/config.js"},{"name":"../../util","parent":"/home/admi/work/space-rep-public/client/src/components/Login/Login.js","resolved":"/home/admi/work/space-rep-public/client/src/util/index.js"},{"name":"../../fetch","parent":"/home/admi/work/space-rep-public/client/src/components/Login/Login.js","resolved":"/home/admi/work/space-rep-public/client/src/fetch/index.js"},{"name":"../NetworkError","parent":"/home/admi/work/space-rep-public/client/src/components/Login/Login.js","resolved":"/home/admi/work/space-rep-public/client/src/components/NetworkError.js"}],"generated":{"js":"\"use strict\";var e=c(require(\"@babel/runtime/helpers/interopRequireDefault\"));Object.defineProperty(exports,\"__esModule\",{value:!0});var t=require(\"@babel/runtime/helpers/defineProperty\"),r=(0,e.default)(t),a=require(\"@babel/runtime/regenerator\"),n=(0,e.default)(a),u=require(\"@babel/runtime/helpers/asyncToGenerator\"),l=(0,e.default)(u),i=require(\"@babel/runtime/helpers/slicedToArray\"),s=(0,e.default)(i);function c(e){return e&&e.__esModule?e:{default:e}}var o=require(\"react\"),f=(0,e.default)(o);require(\"./login.css\");var d=require(\"react-router-dom\"),m=require(\"../About/Navbar\"),p=(0,e.default)(m),b=require(\"../../url/config\"),g=(0,e.default)(b),E=require(\"../../util\"),h=require(\"../../fetch\"),v=require(\"../NetworkError\"),y=(0,e.default)(v);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach(function(t){(0,r.default)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function w(){var e,t=(0,E.getSession)();t&&(e=t.active);var a=(0,o.useState)({}),u=(0,s.default)(a,2),i=u[0],c=u[1],m=(0,o.useState)(!1),b=(0,s.default)(m,2),v=b[0],O=b[1],w=(0,o.useState)(!1),j=(0,s.default)(w,2),N=j[0],P=j[1],S=(0,o.useState)({}),x=(0,s.default)(S,2),k=x[0],D=x[1],_=(0,o.useState)(!1),F=(0,s.default)(_,2),L=F[0],R=F[1];(0,o.useEffect)(function(){v&&A(\"\".concat(g.default,\"/login\"),i)},[v]);var A=function(){var e=(0,l.default)(n.default.mark(function e(t,r){var a,u;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.fetchPost)(t,r);case 2:if(!(a=e.sent).err){e.next=7;break}R(!0),e.next=11;break;case 7:return e.next=9,a.json();case 9:(u=e.sent).sid?((0,E.setSession)(u),P(!0)):D(u);case 11:case\"end\":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),C=function(e){e.persist(),c(function(t){return q({},t,(0,r.default)({},e.target.name,e.target.value))})};return f.default.createElement(f.default.Fragment,null,L&&f.default.createElement(y.default,null),e&&f.default.createElement(d.Redirect,{to:\"/decks\"}),!L&&f.default.createElement(f.default.Fragment,null,f.default.createElement(p.default,{signup:\"signUp\"}),f.default.createElement(\"section\",{className:\"login-box\"},f.default.createElement(\"h1\",{className:\"heading\"},\"Login\"),f.default.createElement(\"p\",{className:\"sub-heading\"},\"Log in to an existing account.\"),k&&f.default.createElement(\"p\",{className:\"err-msg\"},\" \",k.res),f.default.createElement(\"form\",{className:\"login-form\",onSubmit:function(e){return function(e){e.preventDefault(),O(!0)}(e)}},f.default.createElement(\"label\",{htmlFor:\"email\",className:\"label\"},\"Email\"),f.default.createElement(\"input\",{type:\"email\",placeholder:\"Enter your Email\",id:\"email\",name:\"user_email\",className:\"input\",onChange:function(e){return C(e)},value:i.user_email||\"\",required:!0}),f.default.createElement(\"label\",{htmlFor:\"pswd\",className:\"label\"},\"Password\"),f.default.createElement(\"input\",{type:\"password\",id:\"pswd\",name:\"pswd\",className:\"input\",placeholder:\"Enter the password\",onChange:function(e){return C(e)},value:i.pswd||\"\",required:!0}),f.default.createElement(\"button\",{className:\"login-btn\"},\"Login\"),N&&f.default.createElement(d.Redirect,{to:\"/decks\"})))))}exports.default=w;"},"sourceMaps":null,"error":null,"hash":"9684db30c1c5cf4ad1a823d91542e3ec","cacheData":{"env":{}}}