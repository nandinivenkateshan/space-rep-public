{"id":"NAIR","dependencies":[{"name":"/home/admi/work/space-rep-public/client/.babelrc","includedInParent":true,"mtime":1577790287923},{"name":"/home/admi/work/space-rep-public/package.json","includedInParent":true,"mtime":1577780738231},{"name":"@babel/runtime/regenerator","parent":"/home/admi/work/space-rep-public/client/src/components/Decks/Deck.js","resolved":"/home/admi/work/space-rep-public/node_modules/@babel/runtime/regenerator/index.js"},{"name":"@babel/runtime/helpers/asyncToGenerator","parent":"/home/admi/work/space-rep-public/client/src/components/Decks/Deck.js","resolved":"/home/admi/work/space-rep-public/node_modules/@babel/runtime/helpers/asyncToGenerator.js"},{"name":"@babel/runtime/helpers/slicedToArray","parent":"/home/admi/work/space-rep-public/client/src/components/Decks/Deck.js","resolved":"/home/admi/work/space-rep-public/node_modules/@babel/runtime/helpers/slicedToArray.js"},{"name":"@babel/runtime/helpers/toConsumableArray","parent":"/home/admi/work/space-rep-public/client/src/components/Decks/Deck.js","resolved":"/home/admi/work/space-rep-public/node_modules/@babel/runtime/helpers/toConsumableArray.js"},{"name":"@babel/runtime/helpers/defineProperty","parent":"/home/admi/work/space-rep-public/client/src/components/Decks/Deck.js","resolved":"/home/admi/work/space-rep-public/node_modules/@babel/runtime/helpers/defineProperty.js"},{"name":"@babel/runtime/helpers/interopRequireDefault","parent":"/home/admi/work/space-rep-public/client/src/components/Decks/Deck.js","resolved":"/home/admi/work/space-rep-public/node_modules/@babel/runtime/helpers/interopRequireDefault.js"},{"name":"react","parent":"/home/admi/work/space-rep-public/client/src/components/Decks/Deck.js","resolved":"/home/admi/work/space-rep-public/node_modules/react/index.js"},{"name":"react-router-dom","parent":"/home/admi/work/space-rep-public/client/src/components/Decks/Deck.js","resolved":"/home/admi/work/space-rep-public/node_modules/react-router-dom/esm/react-router-dom.js"},{"name":"../Navbar/Navbar","parent":"/home/admi/work/space-rep-public/client/src/components/Decks/Deck.js","resolved":"/home/admi/work/space-rep-public/client/src/components/Navbar/Navbar.js"},{"name":"../../url/config","parent":"/home/admi/work/space-rep-public/client/src/components/Decks/Deck.js","resolved":"/home/admi/work/space-rep-public/client/src/url/config.js"},{"name":"./Question","parent":"/home/admi/work/space-rep-public/client/src/components/Decks/Deck.js","resolved":"/home/admi/work/space-rep-public/client/src/components/Decks/Question.js"},{"name":"./Answer","parent":"/home/admi/work/space-rep-public/client/src/components/Decks/Deck.js","resolved":"/home/admi/work/space-rep-public/client/src/components/Decks/Answer.js"},{"name":"../../util","parent":"/home/admi/work/space-rep-public/client/src/components/Decks/Deck.js","resolved":"/home/admi/work/space-rep-public/client/src/util/index.js"},{"name":"../NetworkError","parent":"/home/admi/work/space-rep-public/client/src/components/Decks/Deck.js","resolved":"/home/admi/work/space-rep-public/client/src/components/NetworkError.js"}],"generated":{"js":"\"use strict\";var e=c(require(\"@babel/runtime/helpers/interopRequireDefault\"));Object.defineProperty(exports,\"__esModule\",{value:!0});var t=require(\"@babel/runtime/regenerator\"),r=(0,e.default)(t),n=require(\"@babel/runtime/helpers/asyncToGenerator\"),a=(0,e.default)(n),u=require(\"@babel/runtime/helpers/slicedToArray\"),l=(0,e.default)(u),s=require(\"@babel/runtime/helpers/toConsumableArray\"),i=(0,e.default)(s),d=require(\"@babel/runtime/helpers/defineProperty\"),o=(0,e.default)(d);function c(e){return e&&e.__esModule?e:{default:e}}var f=require(\"react\"),w=(0,e.default)(f),m=require(\"react-router-dom\"),p=require(\"../Navbar/Navbar\"),b=(0,e.default)(p),h=require(\"../../url/config\"),y=(0,e.default)(h),E=require(\"./Question\"),g=(0,e.default)(E),v=require(\"./Answer\"),C=(0,e.default)(v),q=require(\"../../util\"),O=require(\"../NetworkError\"),A=(0,e.default)(O);function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var P={arr:[],showStudy:!0,showQuestion:!1,showAnswer:!1,edit:!1,editId:\"\",newCards:[],learningCards:[],reviewCards:[],netErr:!1};function k(e,t){switch(t.type){case\"setArr\":return j({},e,{arr:(0,i.default)(t.newArr),newCards:(0,i.default)(t.newCards),learningCards:(0,i.default)(t.learningCards),reviewCards:(0,i.default)(t.reviewCards)});case\"study\":return j({},e,{showStudy:!1,showQuestion:!0});case\"question\":return j({},e,{showQuestion:!1,showAnswer:!0});case\"answer\":return j({},e,{showQuestion:!0,showAnswer:!1});case\"easyAnswer\":case\"againAnswer\":case\"goodAnswer\":return j({},e,{showQuestion:!0,showAnswer:!1,arr:(0,i.default)(t.newArr)});case\"edit\":return j({},e,{edit:!0,editId:t.editId});case\"netErr\":return j({},e,{netErr:!0});default:console.log(\"Unexpected action\")}}function Q(){var e,t,n=(0,f.useReducer)(k,P),u=(0,l.default)(n,2),s=u[0],i=u[1],d=(0,m.useParams)().id,o=(0,q.getSession)().sid;function c(){return(c=(0,a.default)(r.default.mark(function e(){var t,n,a,u,l,s,c;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.fetch(\"\".concat(y.default,\"/getCards/?sid=\").concat(o));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,a=n.filter(function(e){return e.deck===d}),u=a.reduce(function(e,t){return Number(t.deckclicktime)>=Number(t.timestamp)&&e.push(t),e},[]),l=u.filter(function(e){return\"new\"===e.status}),s=u.filter(function(e){return\"learning\"===e.status}),c=u.filter(function(e){return\"review\"===e.status}),i({type:\"setArr\",newArr:u,newCards:l,learningCards:s,reviewCards:c});case 12:case\"end\":return e.stop()}},e)}))).apply(this,arguments)}function p(e){i(e)}return(0,f.useEffect)(function(){!function(){c.apply(this,arguments)}()},[]),s.showStudy&&(e=w.default.createElement(\"main\",{className:\"study-box\"},w.default.createElement(\"h1\",{className:\"heading\"},d.toUpperCase()),w.default.createElement(\"section\",{className:\"details\"},w.default.createElement(\"div\",{className:\"count\"},w.default.createElement(\"label\",null,\"New\"),w.default.createElement(\"label\",null,s.newCards.length)),w.default.createElement(\"div\",{className:\"count\"},w.default.createElement(\"label\",null,\"In Learning\"),w.default.createElement(\"label\",null,s.learningCards.length)),w.default.createElement(\"div\",{className:\"count\"},w.default.createElement(\"label\",null,\"To Review\"),w.default.createElement(\"label\",null,s.reviewCards.length))),w.default.createElement(\"button\",{onClick:function(){return p({type:\"study\"})},className:\"study-btn\"},\"Study Now\"))),s.arr.length||(t=w.default.createElement(\"p\",{className:\"congrats-msg\"},\"Congratulations ! You have finished this deck for now\")),w.default.createElement(w.default.Fragment,null,s.netErr&&w.default.createElement(A.default,null),!s.netErr&&w.default.createElement(\"main\",{className:\"main\"},w.default.createElement(b.default,null),e||t,s.edit&&w.default.createElement(m.Redirect,{to:\"/edit/\".concat(s.editId)}),s.showQuestion&&s.arr.length&&w.default.createElement(g.default,{question:s.arr[0].question,id:s.arr[0].id,onQuestion:function(){return p({type:\"question\"})},onEdit:function(e){return p({type:\"edit\",editId:e})}}),s.showAnswer&&s.arr.length&&w.default.createElement(C.default,{cards:s.arr,onAgainAns:function(e){return p(e)},onEasyOrGood:function(e){return p(e)},onEdit:function(e){return p({type:\"edit\",editId:e})},onNetErr:function(e){i({type:\"netErr\"})}})))}exports.default=Q;"},"sourceMaps":null,"error":null,"hash":"ce9254dfc641d10135c70a49a959895e","cacheData":{"env":{}}}